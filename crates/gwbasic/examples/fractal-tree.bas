10 REM Fractal Tree
20 PRINT "=== Fractal Tree ==="
30 SCREEN 1
40 CLS
50 COLOR 0, 0
60 REM Initialize
70 LET DEPTH = 8
80 LET STARTX = 160
90 LET STARTY = 180
100 LET LENGTH = 40
110 LET ANGLE = 270: REM Straight up (270 degrees)
120 REM Draw the tree trunk
130 GOSUB 1000
140 REM Title
150 LOCATE 1, 1
160 PRINT "FRACTAL TREE"
170 LOCATE 23, 1
180 PRINT "Press any key..."
210 END
1000 REM Recursive tree drawing
1010 REM Parameters: STARTX, STARTY, LENGTH, ANGLE, DEPTH
1020 IF DEPTH = 0 THEN RETURN
1030 IF LENGTH < 2 THEN RETURN
1040 REM Calculate end point
1050 LET RAD = ANGLE * 3.14159 / 180
1060 LET ENDX = STARTX + LENGTH * COS(RAD)
1070 LET ENDY = STARTY + LENGTH * SIN(RAD)
1080 REM Draw branch
1090 LET C = 1 + (DEPTH MOD 3)
1100 LINE (STARTX, STARTY)-(ENDX, ENDY), C
1110 REM Save current state
1120 LET SAVEX = STARTX
1130 LET SAVEY = STARTY
1140 LET SAVELEN = LENGTH
1150 LET SAVEANG = ANGLE
1160 LET SAVEDEP = DEPTH
1170 REM Draw left branch
1180 LET STARTX = ENDX
1190 LET STARTY = ENDY
1200 LET LENGTH = SAVELEN * 0.7
1210 LET ANGLE = SAVEANG - 25
1220 LET DEPTH = SAVEDEP - 1
1230 GOSUB 1000
1240 REM Draw right branch
1250 LET STARTX = ENDX
1260 LET STARTY = ENDY
1270 LET LENGTH = SAVELEN * 0.7
1280 LET ANGLE = SAVEANG + 25
1290 LET DEPTH = SAVEDEP - 1
1300 GOSUB 1000
1310 REM Restore state
1320 LET STARTX = SAVEX
1330 LET STARTY = SAVEY
1340 LET LENGTH = SAVELEN
1350 LET ANGLE = SAVEANG
1360 LET DEPTH = SAVEDEP
1370 RETURN
